<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic HTML5 metadata -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Page title for sample visualization -->
    <title>Sample Visualization - EsfViz Project</title>
    
    <!-- External CSS file - All styling is handled in styles.css -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- D3.js library from CDN - Used for data visualizations -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <!-- NAVIGATION HEADER -->
    <nav class="visualization-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-back">‚Üê Back to Main</a>
            <h1 class="nav-title">Sample Visualization</h1>
        </div>
    </nav>

    <!-- MAIN CONTENT FOR VISUALIZATION PAGE -->
    <main class="visualization-page">
        <div class="container">
            <!-- VISUALIZATION DESCRIPTION -->
            <section class="viz-description">
                <h2>Interactive Bar Chart Demonstration</h2>
                <p>
                    This sample visualization demonstrates the core capabilities of our D3.js implementation. 
                    The chart showcases proper CSS-based styling, responsive design principles, and smooth 
                    interactive hover effects without using any inline styles.
                </p>
                
                <h3>Features Demonstrated:</h3>
                <ul>
                    <li><strong>CSS-based styling:</strong> All visual elements are styled through external CSS</li>
                    <li><strong>Interactive hover effects:</strong> Bars change color when hovered</li>
                    <li><strong>Responsive design:</strong> Chart adapts to different screen sizes</li>
                    <li><strong>Semantic markup:</strong> Proper use of SVG elements and classes</li>
                    <li><strong>Accessibility:</strong> Clear axis labels and readable fonts</li>
                </ul>
            </section>

            <!-- VISUALIZATION CONTAINER -->
            <section class="visualization-container">
                <h3>Live Demonstration</h3>
                <p>Interact with the chart below by hovering over the bars:</p>
                
                <!-- Container for the D3.js chart - ID is referenced in JavaScript -->
                <div id="sample-chart"></div>
                
                <!-- Chart information -->
                <div class="chart-info">
                    <p><strong>Data Source:</strong> Sample dataset for demonstration purposes</p>
                    <p><strong>Chart Type:</strong> Interactive Bar Chart</p>
                    <p><strong>Technology:</strong> D3.js v7 with CSS styling</p>
                </div>
            </section>

            <!-- TECHNICAL DETAILS -->
            <section class="section">
                <h2>Implementation Details</h2>
                <p>
                    This visualization serves as a foundation for more complex data visualizations 
                    in our project. The implementation follows best practices for:
                </p>
                
                <h3>Code Structure:</h3>
                <ul>
                    <li><strong>Separation of Concerns:</strong> HTML structure, CSS styling, and JavaScript logic are kept separate</li>
                    <li><strong>Reusable Components:</strong> Chart components can be easily adapted for different datasets</li>
                    <li><strong>Performance Optimization:</strong> Efficient D3.js data binding and minimal DOM manipulation</li>
                    <li><strong>Maintainable Code:</strong> Clear commenting and modular structure</li>
                </ul>

                <h3>Styling Approach:</h3>
                <ul>
                    <li><strong>External CSS:</strong> All styling rules are defined in styles.css</li>
                    <li><strong>CSS Classes:</strong> Semantic class names for SVG elements (.bar, .axis, .axis-label)</li>
                    <li><strong>Hover Effects:</strong> CSS transitions for smooth interactions</li>
                    <li><strong>Responsive Design:</strong> Flexible layouts that work on all devices</li>
                </ul>
            </section>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="section" style="text-align: center; border-top: 1px solid #eee; border-bottom: none; padding-top: 2rem;">
        <p>
            <strong>EsfViz Project</strong> | 
            <a href="https://github.com/sepehrkdi/EsfViz" target="_blank">GitHub Repository</a> | 
            <a href="index.html">Back to Main Page</a>
        </p>
    </footer>

    <!-- JAVASCRIPT SECTION -->
    <!-- D3.js visualization code for the sample chart -->
    <script>
        // SAMPLE D3.JS VISUALIZATION
        // This creates a simple bar chart to demonstrate D3.js functionality
        
        document.addEventListener('DOMContentLoaded', function() {
            // SAMPLE DATA - Replace with your actual dataset
            const data = [
                {category: 'Category A', value: 30},
                {category: 'Category B', value: 45},
                {category: 'Category C', value: 25},
                {category: 'Category D', value: 60},
                {category: 'Category E', value: 35}
                // Add more data points here as needed
            ];
            
            // CHART DIMENSIONS - Adjust these values to change chart size
            const margin = {top: 20, right: 20, bottom: 60, left: 50};
            const width = 600 - margin.left - margin.right;
            const height = 400 - margin.bottom - margin.top;
            
            // CREATE SVG CONTAINER
            // Targets the #sample-chart div in the HTML
            const svg = d3.select("#sample-chart")
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .attr("class", "chart-svg")
                .append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);
            
            // CREATE SCALES
            // X-scale for categories
            const xScale = d3.scaleBand()
                .domain(data.map(d => d.category))
                .range([0, width])
                .padding(0.1);
            
            // Y-scale for values
            const yScale = d3.scaleLinear()
                .domain([0, d3.max(data, d => d.value)])
                .range([height, 0]);
            
            // CREATE BARS
            // Uses CSS classes defined in styles.css for styling
            svg.selectAll(".bar")
                .data(data)
                .enter().append("rect")
                .attr("class", "bar")  // CSS class for styling - modify in styles.css
                .attr("x", d => xScale(d.category))
                .attr("width", xScale.bandwidth())
                .attr("y", d => yScale(d.value))
                .attr("height", d => height - yScale(d.value))
                .on("mouseover", function(event, d) {
                    // Add tooltip on hover
                    d3.select(this).attr("class", "bar bar-hover");
                })
                .on("mouseout", function(event, d) {
                    // Remove tooltip on mouse out
                    d3.select(this).attr("class", "bar");
                });
            
            // ADD X-AXIS
            svg.append("g")
                .attr("class", "axis")  // CSS class for axis styling
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(xScale))
                .selectAll("text")
                .style("text-anchor", "end")
                .attr("dx", "-.8em")
                .attr("dy", ".15em")
                .attr("transform", "rotate(-45)");
            
            // ADD Y-AXIS
            svg.append("g")
                .attr("class", "axis")  // CSS class for axis styling
                .call(d3.axisLeft(yScale));
            
            // ADD AXIS LABELS
            // Y-axis label
            svg.append("text")
                .attr("class", "axis-label")  // CSS class for label styling
                .attr("transform", "rotate(-90)")
                .attr("y", 0 - margin.left)
                .attr("x", 0 - (height / 2))
                .attr("dy", "1em")
                .style("text-anchor", "middle")
                .text("Value");
            
            // X-axis label
            svg.append("text")
                .attr("class", "axis-label")  // CSS class for label styling
                .attr("transform", `translate(${width / 2}, ${height + margin.bottom - 10})`)
                .style("text-anchor", "middle")
                .text("Categories");
            
            // Add chart title
            svg.append("text")
                .attr("class", "chart-title")
                .attr("x", width / 2)
                .attr("y", 0 - (margin.top / 2))
                .attr("text-anchor", "middle")
                .text("Sample Data Visualization");
        });
    </script>
</body>
</html>